<xml xmlns="https://developers.google.com/blockly/xml"><variables><variable id="h9O%ss0Rbwc2S;h1?r(;">bluetooth_connected</variable><variable id="0q2$YQ5`XT,B4I@lm$GL">presentstate</variable><variable id="#ou}p=VS:xmu+?J+iy!;">lastState</variable><variable id="_Bo1%mV)+J6/+!$s.@S=">lightlevel</variable><variable id="wKhM8bFBJ4Etd..8%|~M">lightState</variable><variable id=".W}QDfpg?a|AS0I`30os">lastLightState</variable></variables><block type="device_forever" id="*bJ`(BOZ$;2x`cR?,FU#" x="1033" y="0"><statement name="HANDLER"><block type="variables_set" id="d+?Gl6EF3lYk4|zIpMO)"><field name="VAR" id="0q2$YQ5`XT,B4I@lm$GL">presentstate</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="device_pin_is_pressed" id="3AM:zWrt=KhE%3IJ`%kO"><field name="NAME">TouchPin.P0</field></block></value><next><block type="controls_if" id=":+XNr[1`GoH1)]XgHzFa"><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="Y~bJy2LGq{X.(AZ:8(^t"><field name="OP">NEQ</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="m?p.TFkEWx,n(t[Y4Rh|"><field name="VAR" id="#ou}p=VS:xmu+?J+iy!;">lastState</field></block></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="~|YlJM8l:SyjT?7_!ER6"><field name="VAR" id="0q2$YQ5`XT,B4I@lm$GL">presentstate</field></block></value></block></value><statement name="DO0"><block type="controls_if" id="hj|%*xfhsM[~h2OijR}`"><mutation else="1"/><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="GTL4!;hcVv+8F/4ls5/e"><field name="OP">EQ</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="4!P/:0y~M?P+XtuJ$T2y"><field name="VAR" id="0q2$YQ5`XT,B4I@lm$GL">presentstate</field></block></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="logic_boolean" id="@%l}o=ap,!G(|cfkyW}~"><field name="BOOL">TRUE</field></block></value></block></value><statement name="DO0"><block type="serial_writeline" id="l#z3h$K+r2DR6P.!YrXQ"><value name="text"><shadow type="text" id="YQ::T@#[8Sl.wQguQ!n{"><field name="TEXT">Released</field></shadow></value><next><block type="controls_if" id="$LEk}=G2iQohq9e{%2[!"><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="variables_get" id="c[#L=(9LS/grc_SH@-4r"><field name="VAR" id="h9O%ss0Rbwc2S;h1?r(;">bluetooth_connected</field></block></value><statement name="DO0"><block type="bluetooth_uart_writenumber" id="Dl/Xt.`*8u}dagk487B:"><value name="value"><shadow type="math_number" id="Yw:DW%;6HBQelUZ?8SiZ"><field name="NUM">1</field></shadow></value></block></statement><next><block type="basic_show_icon" id="U*ha}s~,|fx-lS583VW{"><field name="i">IconNames.No</field></block></next></block></next></block></statement><statement name="ELSE"><block type="serial_writeline" id=")tuwO4B)Ll4$X!+{;o=?"><value name="text"><shadow type="text" id="/*{fZcr=1{~O?z`N=ur6"><field name="TEXT">Pressed</field></shadow></value><next><block type="controls_if" id="NiVwnHZ|OHuw6HJ5`}p9"><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="variables_get" id="+Z*COX1~]~.gA[L9O!]r"><field name="VAR" id="h9O%ss0Rbwc2S;h1?r(;">bluetooth_connected</field></block></value><statement name="DO0"><block type="bluetooth_uart_writenumber" id="V_Zs/XWAaRCbiGXnAbCG"><value name="value"><shadow type="math_number" id="WeaL):G2#I|Q:HcME7_:"><field name="NUM">2</field></shadow></value></block></statement><next><block type="basic_show_icon" id="u[;2?{dv(q15i3Jnc5a4"><field name="i">IconNames.Yes</field></block></next></block></next></block></statement></block></statement><next><block type="variables_set" id="%nq;8TWYXqU23anFQ^B-"><field name="VAR" id="#ou}p=VS:xmu+?J+iy!;">lastState</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="Ks)Vh9Vqe+bV#6?ejAZD"><field name="VAR" id="0q2$YQ5`XT,B4I@lm$GL">presentstate</field></block></value><next><block type="variables_set" id="#9DhH{XYw)r[s:AwWe,f"><field name="VAR" id="_Bo1%mV)+J6/+!$s.@S=">lightlevel</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="device_get_light_level" id="f-tiD.e!BGzb|W^h(%E-"/></value><next><block type="controls_if" id="K$kBS1VgaAd9Qhq.wj-r"><mutation else="1"/><comment pinned="false" h="80" w="160">serial.write_line("" + str((lightlevel)))</comment><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="qeB:I?skiYV9xXf.[I6-"><field name="OP">LTE</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="6(6|~oWye6(SY3?h%o8y"><field name="VAR" id="_Bo1%mV)+J6/+!$s.@S=">lightlevel</field></block></value><value name="B"><shadow type="math_number" id="5v;`7KPn(f:]gXkAd%BX"><field name="NUM">15</field></shadow></value></block></value><statement name="DO0"><block type="variables_set" id="t_{TH,~eO^gvfnqvLuQq"><field name="VAR" id="wKhM8bFBJ4Etd..8%|~M">lightState</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="logic_boolean" id=")-7_prM._nNkXvyK_F#y"><field name="BOOL">FALSE</field></block></value></block></statement><statement name="ELSE"><block type="variables_set" id="gjXajR+WQ{.$1-pzCve5"><field name="VAR" id="wKhM8bFBJ4Etd..8%|~M">lightState</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="logic_boolean" id="2)]ZUpozGVp^I*B*t}b+"><field name="BOOL">TRUE</field></block></value></block></statement><next><block type="controls_if" id="OSwDN$.8B{{rg_r]fy]#"><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="(5N/O*MF[zkS=ojLkm`f"><field name="OP">NEQ</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="e4g%AOD3l10qKsqoqQDg"><field name="VAR" id=".W}QDfpg?a|AS0I`30os">lastLightState</field></block></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="4U?%vA,[Rnh~)x7Cnw[L"><field name="VAR" id="wKhM8bFBJ4Etd..8%|~M">lightState</field></block></value></block></value><statement name="DO0"><block type="controls_if" id="ow8;o%ljr!kw{c)I?bCh"><mutation else="1"/><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="{D{{!KWV9Me83TOTu`[y"><field name="OP">EQ</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="ZLNl:Y;s`{$DJ8QvlGX?"><field name="VAR" id="wKhM8bFBJ4Etd..8%|~M">lightState</field></block></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="logic_boolean" id="BBzo}w:VVB$L4p=0PG=E"><field name="BOOL">TRUE</field></block></value></block></value><statement name="DO0"><block type="serial_writeline" id="1^+fEa*wu8Y(al`.{q@a"><value name="text"><shadow type="text" id="9)TJ){gTG{ZAvnQaXXG["><field name="TEXT">Lighton</field></shadow></value><next><block type="controls_if" id="BXavGKgcH5l]},{6h?}-"><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="variables_get" id="Q38OaH4@F*Cg`(+hsJeT"><field name="VAR" id="h9O%ss0Rbwc2S;h1?r(;">bluetooth_connected</field></block></value><statement name="DO0"><block type="bluetooth_uart_writenumber" id="0xb_a3I7TrkLR.6IgF2Y"><value name="value"><shadow type="math_number" id="1~zZXpQ/$MUO6XmcApMt"><field name="NUM">3</field></shadow></value></block></statement><next><block type="basic_show_icon" id=":vY)TFnxjV?^O%v~{~rG"><field name="i">IconNames.Asleep</field></block></next></block></next></block></statement><statement name="ELSE"><block type="serial_writeline" id="STQDSKS#=]mL~%zRCe-`"><value name="text"><shadow type="text" id="k%[gg5sLRF4j.bCbfsS?"><field name="TEXT">Lightoff</field></shadow></value><next><block type="controls_if" id="qZB:6rCb)ZB2D=jI4{|1"><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="variables_get" id="0Q9mRY0EUd1}s}8{RrcI"><field name="VAR" id="h9O%ss0Rbwc2S;h1?r(;">bluetooth_connected</field></block></value><statement name="DO0"><block type="bluetooth_uart_writenumber" id="=b^|`J~9gjc:Y?MfobFg"><value name="value"><shadow type="math_number" id="})]I!oirP*bc0?+qdZZG"><field name="NUM">4</field></shadow></value></block></statement><next><block type="basic_show_icon" id="f|TM0*R#2W%{rw(3Jm6F"><field name="i">IconNames.SmallDiamond</field></block></next></block></next></block></statement></block></statement><next><block type="variables_set" id="2,Vgz5-:-?FmM1QJuooZ"><field name="VAR" id=".W}QDfpg?a|AS0I`30os">lastLightState</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="sX+XMDc!;x026j0z?FVN"><field name="VAR" id="wKhM8bFBJ4Etd..8%|~M">lightState</field></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type="bluetooth_on_disconnected" id="zcRz09CeMNSYF%iyUZIe" x="0" y="84"><statement name="HANDLER"><block type="variables_set" id="EJdYVGa5=`WI%B|4Em^R"><field name="VAR" id="h9O%ss0Rbwc2S;h1?r(;">bluetooth_connected</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="logic_boolean" id="~Los=8X:)1:1O/CH%E./"><field name="BOOL">FALSE</field></block></value><next><block type="basic_show_icon" id="AoMGrB.;%#/79Oo,oVL_"><field name="i">IconNames.TShirt</field></block></next></block></statement></block><block type="device_button_event" id="$1lm/8h:WoPD)gsJW-m~" x="524" y="73"><field name="NAME">Button.A</field><statement name="HANDLER"><block type="device_show_number" id="lHo0nC}=L!7/rZlpK7FU"><value name="number"><block type="device_get_light_level" id="Y$.+pI{_d,v~@$3}$Omk"/></value></block></statement></block><block type="device_gesture_event" id="[YR[S5.!DP[YXZE.|k|1" x="529" y="243"><field name="NAME">Gesture.Shake</field><statement name="HANDLER"><block type="serial_writeline" id="x{NrT?XQgfJd`2,Jy5a]"><value name="text"><shadow type="text" id="jm]H+8[D_jK//Lr=#EQR"><field name="TEXT">Shaked</field></shadow></value><next><block type="basic_show_icon" id="U7?=RE?@m1WNON,%qndA"><field name="i">IconNames.Butterfly</field><next><block type="controls_if" id="Wczyw[!kc+w{x!U)GOzm"><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="variables_get" id="@(!,GL.2LhhR9#MBO+Dd"><field name="VAR" id="h9O%ss0Rbwc2S;h1?r(;">bluetooth_connected</field></block></value><statement name="DO0"><block type="bluetooth_uart_writenumber" id="pFK{=35D.g(z%l[?!/gW"><value name="value"><shadow type="math_number" id="XbC@dMxP/1=(d`yAKIAz"><field name="NUM">5</field></shadow></value></block></statement></block></next></block></next></block></statement></block><block type="bluetooth_on_connected" id="1Zi5T8!(Y~u,sA^=(:y5" x="7" y="297"><statement name="HANDLER"><block type="variables_set" id="S_8o;?3h3y$!t+Z*X=|A"><field name="VAR" id="h9O%ss0Rbwc2S;h1?r(;">bluetooth_connected</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="logic_boolean" id="6b52$DN|Ax3M2![8h7jP"><field name="BOOL">TRUE</field></block></value><next><block type="bluetooth_uart_writenumber" id=",NqjMU/Mu!23g;k}y|?k"><value name="value"><shadow type="math_number" id="*_3gW0W]3k3!*S+|v8=J"><field name="NUM">0</field></shadow></value><next><block type="basic_show_icon" id="~UsYvm:i:}lD#IT%.:w_"><field name="i">IconNames.Heart</field></block></next></block></next></block></statement></block><block type="pxt-on-start" id="7KGm$(k.[`2V8x|Pnm+X" x="534" y="588"><statement name="HANDLER"><block type="basic_show_icon" id="71?6ie}d.xtqjrn.`WnQ"><field name="i">IconNames.SmallSquare</field><next><block type="serial_writeline" id="(aI1y(+m*Hs)~,JLC#f9"><value name="text"><shadow type="text" id="02U04mF8lvPXOJS8M@KJ"><field name="TEXT">Intruder Detection</field></shadow></value></block></next></block></statement></block></xml>